{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\r9raf\\\\Documents\\\\Estudo\\\\React\\\\NLW\\\\web\\\\src\\\\pages\\\\CreateOprphanage.tsx\";\nimport React, { useState } from \"react\";\nimport { Map, Marker, TileLayer } from 'react-leaflet';\n\n/* import PrimaryButton from \"../../components/PrimaryButton\"; */\nimport Sidebar from \"../components/Sidebar\";\nimport '../style/pages/create-orphanage.css';\nimport { FiPlus } from \"react-icons/fi\";\n/* import Map from \"../../components/Map\"; */\n\nimport mapIcon from \"../utils/mainicon\";\nimport { useHistory } from \"react-router-dom\";\nexport default function OrphanagesMap() {\n  const history = useHistory();\n  const [position, setPosition] = useState({\n    latitude: 0,\n    longitude: 0\n  });\n  const [name, setName] = useState('');\n  const [about, setAbout] = useState('');\n  const [instruction, setInstruction] = useState('');\n  const [opening_hours, setOpeningHours] = useState('');\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\n  const [images, setImages] = useState([]);\n  const [previewImages, setPreviewImages] = useState();\n\n  function handMapClick(event) {\n    const {\n      lat,\n      lng\n    } = event.latlng;\n    setPosition({\n      latitude: lat,\n      longitude: lng\n    });\n  }\n\n  function handleSelectImage(event) {\n    if (!event.target.files) {\n      return;\n    }\n\n    const selectdImages = Array.from(event.target.files);\n    setImages(selectdImages);\n    const selectdImagesPreview = selectdImages.map(image => {\n      return URL.createObjectURL(image);\n    });\n    setPreviewImages(selectdImagesPreview);\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const {\n      latitude,\n      longitude\n    } = position;\n    const data = new FormData();\n    data.append('name', name);\n    data.append('about', about);\n    data.append('latitude', String(latitude));\n    data.append('longitude', String(longitude));\n    data.append('instruction', instruction);\n    data.append('opening_hours', opening_hours);\n    data.append('open_on_weekends', String(open_on_weekends));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"page-create-orphanage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"create-orphanage-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Dados\"), /*#__PURE__*/React.createElement(Map, {\n    style: {\n      width: '100%',\n      height: 280\n    },\n    center: [-18.8388719, -41.9742073],\n    zoom: 13,\n    onclick: handMapClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TileLayer, {\n    url: \"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }), position.latitude != 0 && /*#__PURE__*/React.createElement(Marker, {\n    interactive: false,\n    icon: mapIcon,\n    position: [position.latitude, position.longitude],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 18\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    value: name,\n    onChange: event => setName(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"about\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Sobre \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 44\n    }\n  }, \"M\\xE1ximo de 300 caracteres\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"name\",\n    maxLength: 300,\n    value: about,\n    onChange: event => setAbout(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"images\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, \"Fotos\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"images-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, previewImages === null || previewImages === void 0 ? void 0 : previewImages.map(image => {\n    return /*#__PURE__*/React.createElement(\"img\", {\n      key: image,\n      src: image,\n      alt: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"image[]\",\n    className: \"new-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiPlus, {\n    size: 24,\n    color: \"#15b6d6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    onChange: handleSelectImage,\n    type: \"file\",\n    id: \"image[]\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Visita\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"instructions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"Instru\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"instructions\",\n    value: instruction,\n    onChange: event => setInstruction(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"opening_hours\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, \"Hor\\xE1rio de funcionamento\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"opening_hours\",\n    value: opening_hours,\n    onChange: event => setOpeningHours(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"open_on_weekends\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, \"Atende fim de semana\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: open_on_weekends ? 'active' : '',\n    onClick: () => setOpenOnWeekends(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, \"Sim\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: !open_on_weekends ? 'active' : '',\n    onClick: () => setOpenOnWeekends(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"N\\xE3o\")))))));\n}","map":{"version":3,"sources":["C:/Users/r9raf/Documents/Estudo/React/NLW/web/src/pages/CreateOprphanage.tsx"],"names":["React","useState","Map","Marker","TileLayer","Sidebar","FiPlus","mapIcon","useHistory","OrphanagesMap","history","position","setPosition","latitude","longitude","name","setName","about","setAbout","instruction","setInstruction","opening_hours","setOpeningHours","open_on_weekends","setOpenOnWeekends","images","setImages","previewImages","setPreviewImages","handMapClick","event","lat","lng","latlng","handleSelectImage","target","files","selectdImages","Array","from","selectdImagesPreview","map","image","URL","createObjectURL","handleSubmit","preventDefault","data","FormData","append","String","width","height","value"],"mappings":"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","sourcesContent":["import React, { FormEvent, useState, ChangeEvent } from \"react\";\r\nimport { Map, Marker, TileLayer } from 'react-leaflet';\r\nimport { LeafletMouseEvent } from 'leaflet';\r\n/* import PrimaryButton from \"../../components/PrimaryButton\"; */\r\nimport Sidebar from \"../components/Sidebar\";\r\n\r\nimport '../style/pages/create-orphanage.css';\r\nimport { FiPlus } from \"react-icons/fi\";\r\n/* import Map from \"../../components/Map\"; */\r\n\r\nimport mapIcon from \"../utils/mainicon\";\r\nimport api from \"../services/api\";\r\n\r\nimport { setTokenSourceMapRange } from \"typescript\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport default function OrphanagesMap() {\r\n    const history = useHistory();\r\n\r\n  const [position, setPosition] = useState({latitude : 0, longitude: 0});\r\n  const [name, setName] = useState('');\r\n  const [about, setAbout] = useState('');\r\n  const [instruction, setInstruction] = useState('');\r\n  const [opening_hours, setOpeningHours] = useState('');\r\n  const [open_on_weekends, setOpenOnWeekends] = useState(true);\r\n  const [images, setImages] = useState<File[]>([]);\r\n  const [previewImages, setPreviewImages] = useState<string[]>();\r\n\r\n  function handMapClick(event: LeafletMouseEvent){\r\n    const {lat, lng} = event.latlng;\r\n\r\n    setPosition({\r\n      latitude: lat,\r\n      longitude: lng,\r\n    });\r\n  }\r\n\r\n  function handleSelectImage(event: ChangeEvent<HTMLInputElement>){\r\n      if(!event.target.files){\r\n        return;\r\n      }\r\n\r\n      const selectdImages =Array.from(event.target.files);\r\n      setImages(selectdImages);\r\n\r\n      const selectdImagesPreview = selectdImages.map(image =>{\r\n        return URL.createObjectURL(image);\r\n      })\r\n\r\n      setPreviewImages(selectdImagesPreview);\r\n  }\r\n\r\n  async function handleSubmit(event: FormEvent){\r\n    event.preventDefault();\r\n    const {latitude, longitude} = position;\r\n\r\n    const data = new FormData();\r\n\r\n    data.append('name', name);\r\n    data.append('about', about);\r\n    data.append('latitude', String(latitude));\r\n    data.append('longitude', String(longitude));\r\n    data.append('instruction', instruction);\r\n    data.append('opening_hours', opening_hours);\r\n    data.append('open_on_weekends', String(open_on_weekends));\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div id=\"page-create-orphanage\">\r\n      <Sidebar />\r\n\r\n      <main>\r\n        <form className=\"create-orphanage-form\">\r\n          <fieldset>\r\n            <legend>Dados</legend>\r\n\r\n            <Map \r\n              style={{ width: '100%', height: 280 }}\r\n              center={[-18.8388719,-41.9742073]}\r\n              zoom={13}\r\n              onclick = {handMapClick}\r\n            >\r\n              <TileLayer url=\"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png\"/>\r\n              \r\n              { position.latitude != 0 && (\r\n                 <Marker \r\n                  interactive={false} \r\n                  icon={mapIcon} \r\n                  position={[position.latitude, position.longitude]} \r\n                 />  \r\n                )}\r\n            \r\n            </Map>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"name\">Nome</label>\r\n              <input id=\"name\" value={name} onChange={event => setName(event.target.value)} />\r\n            </div>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"about\">Sobre <span>Máximo de 300 caracteres</span></label>\r\n              <textarea id=\"name\" maxLength={300} value={about} onChange={event => setAbout(event.target.value)}/>\r\n            </div>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"images\">Fotos</label>\r\n\r\n              <div className=\"images-container\">\r\n                {previewImages?.map(image =>{\r\n                  return(\r\n                    <img key={image} src={image} alt={name}/>\r\n                  )\r\n                })}\r\n                <label htmlFor=\"image[]\" className=\"new-image\">\r\n                  <FiPlus size={24} color=\"#15b6d6\" />\r\n                </label>\r\n                \r\n              </div>\r\n\r\n              <input multiple onChange={handleSelectImage} type=\"file\" id=\"image[]\" />\r\n            </div>\r\n          </fieldset>\r\n\r\n          <fieldset>\r\n            <legend>Visitação</legend>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"instructions\">Instruções</label>\r\n              <textarea id=\"instructions\" value={instruction} onChange={event => setInstruction(event.target.value)} />\r\n            </div>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"opening_hours\">Horário de funcionamento</label>\r\n              <input id=\"opening_hours\" value={opening_hours} onChange={event => setOpeningHours(event.target.value)}/>\r\n            </div>\r\n\r\n            <div className=\"input-block\">\r\n              <label htmlFor=\"open_on_weekends\">Atende fim de semana</label>\r\n\r\n              <div className=\"button-select\">\r\n                <button type=\"button\" \r\n                  className={open_on_weekends ? 'active' : ''}\r\n                  onClick={() => setOpenOnWeekends(true)}\r\n                  >\r\n                Sim</button>\r\n                \r\n                <button type=\"button\"\r\n                  className={!open_on_weekends ? 'active' : ''}\r\n                  onClick={() => setOpenOnWeekends(false)}\r\n                  >\r\n                Não</button>\r\n\r\n              </div>\r\n            </div>\r\n          </fieldset>\r\n\r\n          {/* <PrimaryButton type=\"submit\">Confirmar</PrimaryButton> */}\r\n        </form>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}